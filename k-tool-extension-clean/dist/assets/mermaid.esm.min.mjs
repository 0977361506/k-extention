/*! For license information please see mermaid.esm.min.mjs.LICENSE.txt */
import{a as e}from"./chunks/mermaid.esm.min/chunk-HQLFZTFY.mjs";import{a as r}from"./chunks/mermaid.esm.min/chunk-MEBTFSOL.mjs";import{a as t,b as a}from"./chunks/mermaid.esm.min/chunk-7LIB5WBN.mjs";import{a as i}from"./chunks/mermaid.esm.min/chunk-L736DJ4U.mjs";import"./chunks/mermaid.esm.min/chunk-QTJCGBHB.mjs";import"./chunks/mermaid.esm.min/chunk-USR3SDWQ.mjs";import{b as n}from"./chunks/mermaid.esm.min/chunk-2VPXETT4.mjs";import"./chunks/mermaid.esm.min/chunk-S67DUUA5.mjs";import"./chunks/mermaid.esm.min/chunk-LM6QDVU5.mjs";import{a as s}from"./chunks/mermaid.esm.min/chunk-HESFG3RP.mjs";import{b as o,j as d,l as m,m as c,n as l,o as u}from"./chunks/mermaid.esm.min/chunk-YM3XIQPS.mjs";import"./chunks/mermaid.esm.min/chunk-TI4EEUUG.mjs";import{A as g,B as p,C as f,D as h,G as y,M as w,O as b,aa as k,b as v,ba as x,c as D,d as j,f as C,g as T,ga as E,h as S,i as L,j as F,k as M,r as R,u as A,v as I,w as V,x as B,y as P,z}from"./chunks/mermaid.esm.min/chunk-ZKYS2E5M.mjs";import{d as O}from"./chunks/mermaid.esm.min/chunk-YPUTD6PB.mjs";import"./chunks/mermaid.esm.min/chunk-6BY5RJGC.mjs";import{a as $}from"./chunks/mermaid.esm.min/chunk-GTKDMUJJ.mjs";var G={id:"c4",detector:$(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),loader:$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/c4Diagram-GNV6VVOW.mjs");return{id:"c4",diagram:e}},"loader")},H="flowchart",U=$((e,r)=>"dagre-wrapper"!==r?.flowchart?.defaultRenderer&&"elk"!==r?.flowchart?.defaultRenderer&&/^\s*graph/.test(e),"detector"),q=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/flowDiagram-RXJ4TZVH.mjs");return{id:H,diagram:e}},"loader"),N={id:H,detector:U,loader:q},J="flowchart-v2",Q=$((e,r)=>"dagre-d3"!==r?.flowchart?.defaultRenderer&&("elk"===r?.flowchart?.defaultRenderer&&(r.layout="elk"),!(!/^\s*graph/.test(e)||"dagre-wrapper"!==r?.flowchart?.defaultRenderer)||/^\s*flowchart/.test(e)),"detector"),Y=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/flowDiagram-RXJ4TZVH.mjs");return{id:J,diagram:e}},"loader"),K={id:J,detector:Q,loader:Y},X={id:"er",detector:$(e=>/^\s*erDiagram/.test(e),"detector"),loader:$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/erDiagram-K5RJBHCA.mjs");return{id:"er",diagram:e}},"loader")},Z="gitGraph",W=$(e=>/^\s*gitGraph/.test(e),"detector"),_=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/gitGraphDiagram-WO7WVN2C.mjs");return{id:Z,diagram:e}},"loader"),ee={id:Z,detector:W,loader:_},re="gantt",te=$(e=>/^\s*gantt/.test(e),"detector"),ae=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/ganttDiagram-5MLOKHXO.mjs");return{id:re,diagram:e}},"loader"),ie={id:re,detector:te,loader:ae},ne="info",se=$(e=>/^\s*info/.test(e),"detector"),oe=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/infoDiagram-E3C2IIUA.mjs");return{id:ne,diagram:e}},"loader"),de={id:ne,detector:se,loader:oe},me={id:"pie",detector:$(e=>/^\s*pie/.test(e),"detector"),loader:$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/pieDiagram-Q56JBFDI.mjs");return{id:"pie",diagram:e}},"loader")},ce="quadrantChart",le=$(e=>/^\s*quadrantChart/.test(e),"detector"),ue=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/quadrantDiagram-KBTC774P.mjs");return{id:ce,diagram:e}},"loader"),ge={id:ce,detector:le,loader:ue},pe="xychart",fe=$(e=>/^\s*xychart-beta/.test(e),"detector"),he=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/xychartDiagram-4C6ER3FX.mjs");return{id:pe,diagram:e}},"loader"),ye={id:pe,detector:fe,loader:he},we="requirement",be=$(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),ke=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/requirementDiagram-OPD2HUS5.mjs");return{id:we,diagram:e}},"loader"),ve={id:we,detector:be,loader:ke},xe="sequence",De=$(e=>/^\s*sequenceDiagram/.test(e),"detector"),je=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/sequenceDiagram-ODO66PDE.mjs");return{id:xe,diagram:e}},"loader"),Ce={id:xe,detector:De,loader:je},Te="class",Ee=$((e,r)=>"dagre-wrapper"!==r?.class?.defaultRenderer&&/^\s*classDiagram/.test(e),"detector"),Se=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/classDiagram-MKYM2BOE.mjs");return{id:Te,diagram:e}},"loader"),Le={id:Te,detector:Ee,loader:Se},Fe="classDiagram",Me=$((e,r)=>!(!/^\s*classDiagram/.test(e)||"dagre-wrapper"!==r?.class?.defaultRenderer)||/^\s*classDiagram-v2/.test(e),"detector"),Re=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/classDiagram-v2-PRA2ZCF7.mjs");return{id:Fe,diagram:e}},"loader"),Ae={id:Fe,detector:Me,loader:Re},Ie="state",Ve=$((e,r)=>"dagre-wrapper"!==r?.state?.defaultRenderer&&/^\s*stateDiagram/.test(e),"detector"),Be=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/stateDiagram-76M766UR.mjs");return{id:Ie,diagram:e}},"loader"),Pe={id:Ie,detector:Ve,loader:Be},ze="stateDiagram",Oe=$((e,r)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&"dagre-wrapper"===r?.state?.defaultRenderer),"detector"),$e=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/stateDiagram-v2-NOSC7VFN.mjs");return{id:ze,diagram:e}},"loader"),Ge={id:ze,detector:Oe,loader:$e},He="journey",Ue=$(e=>/^\s*journey/.test(e),"detector"),qe=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/journeyDiagram-UZIDTGLP.mjs");return{id:He,diagram:e}},"loader"),Ne={id:He,detector:Ue,loader:qe},Je={draw:$((e,t,a)=>{v.debug("rendering svg for syntax error\n");let i=r(t),n=i.append("g");i.attr("viewBox","0 0 2412 512"),w(i,100,512,!0),n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${a}`)},"draw")},Qe=Je,Ye={db:{},renderer:Je,parser:{parse:$(()=>{},"parse")}},Ke="flowchart-elk",Xe=$((e,r={})=>!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&"elk"===r?.flowchart?.defaultRenderer)&&(r.layout="elk",!0),"detector"),Ze=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/flowDiagram-RXJ4TZVH.mjs");return{id:Ke,diagram:e}},"loader"),We={id:Ke,detector:Xe,loader:Ze},_e="timeline",er=$(e=>/^\s*timeline/.test(e),"detector"),rr=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/timeline-definition-VFFECQCT.mjs");return{id:_e,diagram:e}},"loader"),tr={id:_e,detector:er,loader:rr},ar="mindmap",ir=$(e=>/^\s*mindmap/.test(e),"detector"),nr=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/mindmap-definition-RP2J3NYQ.mjs");return{id:ar,diagram:e}},"loader"),sr={id:ar,detector:ir,loader:nr},or="kanban",dr=$(e=>/^\s*kanban/.test(e),"detector"),mr=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/kanban-definition-4PSEFK7X.mjs");return{id:or,diagram:e}},"loader"),cr={id:or,detector:dr,loader:mr},lr="sankey",ur=$(e=>/^\s*sankey-beta/.test(e),"detector"),gr=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/sankeyDiagram-2NKXCTV4.mjs");return{id:lr,diagram:e}},"loader"),pr={id:lr,detector:ur,loader:gr},fr="packet",hr=$(e=>/^\s*packet-beta/.test(e),"detector"),yr=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/diagram-7BLTIMBB.mjs");return{id:fr,diagram:e}},"loader"),wr={id:fr,detector:hr,loader:yr},br="radar",kr=$(e=>/^\s*radar-beta/.test(e),"detector"),vr=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/diagram-R7SGKMCD.mjs");return{id:br,diagram:e}},"loader"),xr={id:br,detector:kr,loader:vr},Dr="block",jr=$(e=>/^\s*block-beta/.test(e),"detector"),Cr=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/blockDiagram-GQNB4GIR.mjs");return{id:Dr,diagram:e}},"loader"),Tr={id:Dr,detector:jr,loader:Cr},Er="architecture",Sr=$(e=>/^\s*architecture/.test(e),"detector"),Lr=$(async()=>{let{diagram:e}=await import("./chunks/mermaid.esm.min/architectureDiagram-YZ6UH2CF.mjs");return{id:Er,diagram:e}},"loader"),Fr={id:Er,detector:Sr,loader:Lr},Mr=!1,Rr=$(()=>{Mr||(Mr=!0,k("error",Ye,e=>"error"===e.toLowerCase().trim()),k("---",{db:{clear:$(()=>{},"clear")},styles:{},renderer:{draw:$(()=>{},"draw")},parser:{parse:$(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:$(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),L(G,cr,Ae,Le,X,ie,de,me,ve,Ce,We,K,N,sr,tr,ee,Ge,Pe,Ne,ge,pr,wr,ye,Tr,Fr,xr))},"addDiagrams"),Ar=$(async()=>{v.debug("Loading registered diagrams");let e=(await Promise.allSettled(Object.entries(T).map(async([e,{detector:r,loader:t}])=>{if(t)try{x(e)}catch{try{let{diagram:e,id:a}=await t();k(a,e,r)}catch(r){throw v.error(`Failed to load external diagram with key ${e}. Removing from detectors.`),delete T[e],r}}}))).filter(e=>"rejected"===e.status);if(e.length>0){v.error(`Failed to load ${e.length} external diagrams`);for(let r of e)v.error(r);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),Ir="comm",Vr="rule",Br="decl",Pr=Math.abs,zr=String.fromCharCode;function Or(e){return e.trim()}function $r(e,r,t){return e.replace(r,t)}function Gr(e,r,t){return e.indexOf(r,t)}function Hr(e,r){return 0|e.charCodeAt(r)}function Ur(e,r,t){return e.slice(r,t)}function qr(e){return e.length}function Nr(e){return e.length}function Jr(e,r){return r.push(e),e}$(Or,"trim"),$($r,"replace"),$(Gr,"indexof"),$(Hr,"charat"),$(Ur,"substr"),$(qr,"strlen"),$(Nr,"sizeof"),$(Jr,"append");var Qr=1,Yr=1,Kr=0,Xr=0,Zr=0,Wr="";function _r(e,r,t,a,i,n,s,o){return{value:e,root:r,parent:t,type:a,props:i,children:n,line:Qr,column:Yr,length:s,return:"",siblings:o}}function et(){return Zr}function rt(){return Zr=Xr>0?Hr(Wr,--Xr):0,Yr--,10===Zr&&(Yr=1,Qr--),Zr}function tt(){return Zr=Xr<Kr?Hr(Wr,Xr++):0,Yr++,10===Zr&&(Yr=1,Qr++),Zr}function at(){return Hr(Wr,Xr)}function it(){return Xr}function nt(e,r){return Ur(Wr,e,r)}function st(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ot(e){return Qr=Yr=1,Kr=qr(Wr=e),Xr=0,[]}function dt(e){return Wr="",e}function mt(e){return Or(nt(Xr-1,ut(91===e?e+2:40===e?e+1:e)))}function ct(e){for(;(Zr=at())&&Zr<33;)tt();return st(e)>2||st(Zr)>3?"":" "}function lt(e,r){for(;--r&&tt()&&!(Zr<48||Zr>102||Zr>57&&Zr<65||Zr>70&&Zr<97););return nt(e,it()+(r<6&&32==at()&&32==tt()))}function ut(e){for(;tt();)switch(Zr){case e:return Xr;case 34:case 39:34!==e&&39!==e&&ut(Zr);break;case 40:41===e&&ut(e);break;case 92:tt()}return Xr}function gt(e,r){for(;tt()&&e+Zr!==57&&(e+Zr!==84||47!==at()););return"/*"+nt(r,Xr-1)+"*"+zr(47===e?e:tt())}function pt(e){for(;!st(at());)tt();return nt(e,Xr)}function ft(e){return dt(ht("",null,null,null,[""],e=ot(e),0,[0],e))}function ht(e,r,t,a,i,n,s,o,d){for(var m=0,c=0,l=s,u=0,g=0,p=0,f=1,h=1,y=1,w=0,b="",k=i,v=n,x=a,D=b;h;)switch(p=w,w=tt()){case 40:if(108!=p&&58==Hr(D,l-1)){-1!=Gr(D+=$r(mt(w),"&","&\f"),"&\f",Pr(m?o[m-1]:0))&&(y=-1);break}case 34:case 39:case 91:D+=mt(w);break;case 9:case 10:case 13:case 32:D+=ct(p);break;case 92:D+=lt(it()-1,7);continue;case 47:switch(at()){case 42:case 47:Jr(wt(gt(tt(),it()),r,t,d),d),(5==st(p||1)||5==st(at()||1))&&qr(D)&&" "!==Ur(D,-1,void 0)&&(D+=" ");break;default:D+="/"}break;case 123*f:o[m++]=qr(D)*y;case 125*f:case 59:case 0:switch(w){case 0:case 125:h=0;case 59+c:-1==y&&(D=$r(D,/\f/g,"")),g>0&&(qr(D)-l||0===f&&47===p)&&Jr(g>32?bt(D+";",a,t,l-1,d):bt($r(D," ","")+";",a,t,l-2,d),d);break;case 59:D+=";";default:if(Jr(x=yt(D,r,t,m,c,i,o,b,k=[],v=[],l,n),n),123===w)if(0===c)ht(D,r,x,x,k,n,l,o,v);else{switch(u){case 99:if(110===Hr(D,3))break;case 108:if(97===Hr(D,2))break;default:c=0;case 100:case 109:case 115:}c?ht(e,x,x,a&&Jr(yt(e,x,x,0,0,i,o,b,i,k=[],l,v),v),i,v,l,o,a?k:v):ht(D,x,x,x,[""],v,0,o,v)}}m=c=g=0,f=y=1,b=D="",l=s;break;case 58:l=1+qr(D),g=p;default:if(f<1)if(123==w)--f;else if(125==w&&0==f++&&125==rt())continue;switch(D+=zr(w),w*f){case 38:y=c>0?1:(D+="\f",-1);break;case 44:o[m++]=(qr(D)-1)*y,y=1;break;case 64:45===at()&&(D+=mt(tt())),u=at(),c=l=qr(b=D+=pt(it())),w++;break;case 45:45===p&&2==qr(D)&&(f=0)}}return n}function yt(e,r,t,a,i,n,s,o,d,m,c,l){for(var u=i-1,g=0===i?n:[""],p=Nr(g),f=0,h=0,y=0;f<a;++f)for(var w=0,b=Ur(e,u+1,u=Pr(h=s[f])),k=e;w<p;++w)(k=Or(h>0?g[w]+" "+b:$r(b,/&\f/g,g[w])))&&(d[y++]=k);return _r(e,r,t,0===i?Vr:o,d,m,c,l)}function wt(e,r,t,a){return _r(e,r,t,Ir,zr(et()),Ur(e,2,-2),0,a)}function bt(e,r,t,a,i){return _r(e,r,t,Br,Ur(e,0,a),Ur(e,a+1,-1),a,i)}function kt(e,r){for(var t="",a=0;a<e.length;a++)t+=r(e[a],a,e,r)||"";return t}function vt(e,r,t,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case Br:return e.return=e.return||e.value;case Ir:return"";case"@keyframes":return e.return=e.value+"{"+kt(e.children,a)+"}";case Vr:if(!qr(e.value=e.props.join(",")))return""}return qr(t=kt(e.children,a))?e.return=e.value+"{"+t+"}":""}function xt(e,r){e.attr("role","graphics-document document"),""!==r&&e.attr("aria-roledescription",r)}function Dt(e,r,t,a){if(void 0!==e.insert){if(t){let r=`chart-desc-${a}`;e.attr("aria-describedby",r),e.insert("desc",":first-child").attr("id",r).text(t)}if(r){let t=`chart-title-${a}`;e.attr("aria-labelledby",t),e.insert("title",":first-child").attr("id",t).text(r)}}}$(_r,"node"),$(et,"char"),$(rt,"prev"),$(tt,"next"),$(at,"peek"),$(it,"caret"),$(nt,"slice"),$(st,"token"),$(ot,"alloc"),$(dt,"dealloc"),$(mt,"delimit"),$(ct,"whitespace"),$(lt,"escaping"),$(ut,"delimiter"),$(gt,"commenter"),$(pt,"identifier"),$(ft,"compile"),$(ht,"parse"),$(yt,"ruleset"),$(wt,"comment"),$(bt,"declaration"),$(kt,"serialize"),$(vt,"stringify"),$(xt,"setA11yDiagramInfo"),$(Dt,"addSVGa11yTitleDescription");var jt=class e{constructor(e,r,t,a,i){this.type=e,this.text=r,this.db=t,this.parser=a,this.renderer=i}static{$(this,"Diagram")}static async fromText(r,t={}){let a=g(),i=S(r,a);r=l(r)+"\n";try{x(i)}catch{let e=F(i);if(!e)throw new C(`Diagram ${i} not found.`);let{id:r,diagram:t}=await e();k(r,t)}let{db:n,parser:s,renderer:o,init:d}=x(i);return s.parser&&(s.parser.yy=n),n.clear?.(),d?.(a),t.title&&n.setDiagramTitle?.(t.title),await s.parse(r),new e(i,r,n,s,o)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},Ct=[],Tt=$(()=>{Ct.forEach(e=>{e()}),Ct=[]},"attachFunctions"),Et=$(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function St(e){let r=e.match(j);if(!r)return{text:e,metadata:{}};let i=a(r[1],{schema:t})??{};i="object"!=typeof i||Array.isArray(i)?{}:i;let n={};return i.displayMode&&(n.displayMode=i.displayMode.toString()),i.title&&(n.title=i.title.toString()),i.config&&(n.config=i.config),{text:e.slice(r[0].length),metadata:n}}$(St,"extractFrontMatter");var Lt=$(e=>e.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(e,r,t)=>"<"+r+t.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Ft=$(e=>{let{text:r,metadata:t}=St(e),{displayMode:a,title:i,config:n={}}=t;return a&&(n.gantt||(n.gantt={}),n.gantt.displayMode=a),{title:i,config:n,text:r}},"processFrontmatter"),Mt=$(e=>{let r=c.detectInit(e)??{},t=c.detectDirective(e,"wrap");return Array.isArray(t)?r.wrap=t.some(({type:e})=>"wrap"===e):"wrap"===t?.type&&(r.wrap=!0),{text:o(e),directive:r}},"processDirectives");function Rt(e){let r=Lt(e),t=Ft(r),a=Mt(t.text),i=m(t.config,a.directive);return{code:e=Et(a.text),title:t.title,config:i}}function At(e){let r=(new TextEncoder).encode(e),t=Array.from(r,e=>String.fromCodePoint(e)).join("");return btoa(t)}$(Rt,"preprocessDiagram"),$(At,"toBase64");var It=["foreignobject"],Vt=["dominant-baseline"];function Bt(e){let r=Rt(e);return f(),p(r.config??{}),r}async function Pt(e,r){Rr();try{let{code:r,config:t}=Bt(e);return{diagramType:(await Yt(r)).type,config:t}}catch(e){if(r?.suppressErrors)return!1;throw e}}$(Bt,"processAndSetConfigs"),$(Pt,"parse");var zt=$((e,r,t=[])=>`\n.${e} ${r} { ${t.join(" !important; ")} !important; }`,"cssImportantStyles"),Ot=$((e,r=new Map)=>{let t="";if(void 0!==e.themeCSS&&(t+=`\n${e.themeCSS}`),void 0!==e.fontFamily&&(t+=`\n:root { --mermaid-font-family: ${e.fontFamily}}`),void 0!==e.altFontFamily&&(t+=`\n:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),r instanceof Map){let a=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];r.forEach(e=>{O(e.styles)||a.forEach(r=>{t+=zt(e.id,r,e.styles)}),O(e.textStyles)||(t+=zt(e.id,"tspan",(e?.textStyles||[]).map(e=>e.replace("color","fill"))))})}return t},"createCssStyles"),$t=$((e,r,t,a)=>{let i=Ot(e,t);return kt(ft(`${a}{${b(r,i,e.themeVariables)}}`),vt)},"createUserStyles"),Gt=$((e="",r,t)=>{let a=e;return!t&&!r&&(a=a.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),a=u(a),a=a.replace(/<br>/g,"<br/>"),a},"cleanUpSvgCode"),Ht=$((e="",r)=>`<iframe style="width:100%;height:${r?.viewBox?.baseVal?.height?r.viewBox.baseVal.height+"px":"100%"};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${At(`<body style="margin:0">${e}</body>`)}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The "iframe" tag is not supported by your browser.\n</iframe>`,"putIntoIFrame"),Ut=$((e,r,t,a,i)=>{let n=e.append("div");n.attr("id",t),a&&n.attr("style",a);let s=n.append("svg").attr("id",r).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return i&&s.attr("xmlns:xlink",i),s.append("g"),e},"appendDivSvgG");function qt(e,r){return e.append("iframe").attr("id",r).attr("style","width: 100%; height: 100%;").attr("sandbox","")}$(qt,"sandboxedIframe");var Nt=$((e,r,t,a)=>{e.getElementById(r)?.remove(),e.getElementById(t)?.remove(),e.getElementById(a)?.remove()},"removeExistingElements"),Jt=$(async function(r,t,a){Rr();let i=Bt(t);t=i.code;let n=g();v.debug(n),t.length>(n?.maxTextSize??5e4)&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let s,o,d="#"+r,m="i"+r,c="#"+m,l="d"+r,u="#"+l,p=$(()=>{let e=E(w?c:u).node();e&&"remove"in e&&e.remove()},"removeTempElements"),f=E("body"),w="sandbox"===n.securityLevel,b="loose"===n.securityLevel,k=n.fontFamily;if(void 0!==a){if(a&&(a.innerHTML=""),w){let e=qt(E(a),m);f=E(e.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=E(a);Ut(f,r,l,`font-family: ${k}`,"http://www.w3.org/1999/xlink")}else{if(Nt(document,r,l,m),w){let e=qt(E("body"),m);f=E(e.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=E("body");Ut(f,r,l)}try{s=await jt.fromText(t,{title:i.title})}catch(e){if(n.suppressErrorRendering)throw p(),e;s=await jt.fromText("error"),o=e}let x=f.select(u).node(),D=s.type,j=x.firstChild,C=j.firstChild,T=s.renderer.getClasses?.(t,s),S=$t(n,D,T,d),L=document.createElement("style");L.innerHTML=S,j.insertBefore(L,C);try{await s.renderer.draw(t,r,e.version,s)}catch(a){throw n.suppressErrorRendering?p():Qe.draw(t,r,e.version),a}let F=f.select(`${u} svg`),M=s.db.getAccTitle?.(),R=s.db.getAccDescription?.();Kt(D,F,M,R),f.select(`[id="${r}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let A=f.select(u).node().innerHTML;if(v.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute),A=Gt(A,w,y(n.arrowMarkerAbsolute)),w){let e=f.select(u+" svg").node();A=Ht(A,e)}else b||(A=h.sanitize(A,{ADD_TAGS:It,ADD_ATTR:Vt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Tt(),o)throw o;return p(),{diagramType:D,svg:A,bindFunctions:s.db.bindFunctions}},"render");function Qt(e={}){let r=M({},e);r?.fontFamily&&!r.themeVariables?.fontFamily&&(r.themeVariables||(r.themeVariables={}),r.themeVariables.fontFamily=r.fontFamily),V(r),r?.theme&&r.theme in R?r.themeVariables=R[r.theme].getThemeVariables(r.themeVariables):r&&(r.themeVariables=R.default.getThemeVariables(r.themeVariables));let t="object"==typeof r?I(r):P();D(t.logLevel),Rr()}$(Qt,"initialize");var Yt=$((e,r={})=>{let{code:t}=Rt(e);return jt.fromText(t,r)},"getDiagramFromText");function Kt(e,r,t,a){xt(r,e),Dt(r,t,a,r.attr("id"))}$(Kt,"addA11yInfo");var Xt=Object.freeze({render:Jt,parse:Pt,getDiagramFromText:Yt,initialize:Qt,getConfig:g,setConfig:z,getSiteConfig:P,updateSiteConfig:B,reset:$(()=>{f()},"reset"),globalReset:$(()=>{f(A)},"globalReset"),defaultConfig:A});D(g().logLevel),f(g());var Zt=$((e,r,t)=>{v.warn(e),d(e)?(t&&t(e.str,e.hash),r.push({...e,message:e.str,error:e})):(t&&t(e),e instanceof Error&&r.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),Wt=$(async function(e={querySelector:".mermaid"}){try{await _t(e)}catch(r){if(d(r)&&v.error(r.str),ca.parseError&&ca.parseError(r),!e.suppressErrors)throw v.error("Use the suppressErrors option to suppress these errors"),r}},"run"),_t=$(async function({postRenderCallback:e,querySelector:r,nodes:t}={querySelector:".mermaid"}){let a,i=Xt.getConfig();if(v.debug((e?"":"No ")+"Callback function found"),t)a=t;else{if(!r)throw new Error("Nodes and querySelector are both undefined");a=document.querySelectorAll(r)}v.debug(`Found ${a.length} diagrams`),void 0!==i?.startOnLoad&&(v.debug("Start On Load: "+i?.startOnLoad),Xt.updateSiteConfig({startOnLoad:i?.startOnLoad}));let n,o=new c.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed),d=[];for(let r of Array.from(a)){if(v.info("Rendering diagram: "+r.id),r.getAttribute("data-processed"))continue;r.setAttribute("data-processed","true");let t=`mermaid-${o.next()}`;n=r.innerHTML,n=s(c.entityDecode(n)).trim().replace(/<br\s*\/?>/gi,"<br/>");let a=c.detectInit(n);a&&v.debug("Detected early reinit: ",a);try{let{svg:a,bindFunctions:i}=await ma(t,n,r);r.innerHTML=a,e&&await e(t),i&&i(r)}catch(e){Zt(e,d,ca.parseError)}}if(d.length>0)throw d[0]},"runThrowsErrors"),ea=$(function(e){Xt.initialize(e)},"initialize"),ra=$(async function(e,r,t){v.warn("mermaid.init is deprecated. Please use run instead."),e&&ea(e);let a={postRenderCallback:t,querySelector:".mermaid"};"string"==typeof r?a.querySelector=r:r&&(r instanceof HTMLElement?a.nodes=[r]:a.nodes=r),await Wt(a)},"init"),ta=$(async(e,{lazyLoad:r=!0}={})=>{Rr(),L(...e),!1===r&&await Ar()},"registerExternalDiagrams"),aa=$(function(){if(ca.startOnLoad){let{startOnLoad:e}=Xt.getConfig();e&&ca.run().catch(e=>v.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",aa,!1);var ia=$(function(e){ca.parseError=e},"setParseErrorHandler"),na=[],sa=!1,oa=$(async()=>{if(!sa){for(sa=!0;na.length>0;){let e=na.shift();if(e)try{await e()}catch(e){v.error("Error executing queue",e)}}sa=!1}},"executeQueue"),da=$(async(e,r)=>new Promise((t,a)=>{let i=$(()=>new Promise((i,n)=>{Xt.parse(e,r).then(e=>{i(e),t(e)},e=>{v.error("Error parsing",e),ca.parseError?.(e),n(e),a(e)})}),"performCall");na.push(i),oa().catch(a)}),"parse"),ma=$((e,r,t)=>new Promise((a,i)=>{let n=$(()=>new Promise((n,s)=>{Xt.render(e,r,t).then(e=>{n(e),a(e)},e=>{v.error("Error parsing",e),ca.parseError?.(e),s(e),i(e)})}),"performCall");na.push(n),oa().catch(i)}),"render"),ca={startOnLoad:!0,mermaidAPI:Xt,parse:da,render:ma,init:ra,run:Wt,registerExternalDiagrams:ta,registerLayoutLoaders:i,initialize:ea,parseError:void 0,contentLoaded:aa,setParseErrorHandler:ia,detectType:S,registerIconPacks:n},la=ca;export{la as default};